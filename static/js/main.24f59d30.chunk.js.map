{"version":3,"sources":["pages/Main/Main.module.scss","components/Preloader/Preloader.module.scss","pages/Header/Header.module.scss","serviceWorker.ts","app/store.ts","index.tsx","utils/objectHelpers.ts","redux/users-reducer.ts","api/auth-api.ts","api/security-api.ts","redux/auth-reducer.ts","api/users-api.ts","components/Preloader/Preloader.tsx","api/profile-api.ts","redux/profile-reducer.ts","redux/app-reducer.ts","app/App.module.scss","pages/Header/Header.tsx","pages/Header/HeaderContainer.tsx","pages/404/Page404.tsx","pages/Main/Main.tsx","hoc/withSuspenseH.tsx","app/App.tsx","assets/images/users/no-image-100.png","redux/dialogs-reducer.ts","redux/redux-sagas/users-sagas.ts","api/api.ts","api/chat-api.ts","redux/chat-reducer.ts","assets/images/logo.svg","assets/images/header/question-mark-128.png","assets/images/header/exit-100.png","assets/images/app/preloader.gif"],"names":["module","exports","Boolean","window","location","hostname","match","rootWatcher","rootReducer","combineReducers","profileState","profileReducer","dialogsState","dialogsReducer","usersState","usersReducer","authState","authReducer","app","appReducer","form","formReducer","chat","chatReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","sagaMiddleware","createSagaMiddleware","store","createStore","applyMiddleware","thunkMiddleware","all","usersWatcherSaga","run","ReactDOM","render","StrictMode","App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","initializeState","users","totalUsersCount","pageSize","currentPage","isFetching","followingInProgress","filter","term","friend","state","action","type","userID","followed","totalCount","payload","userId","id","actions","followSuccess","unfollowSuccess","setUsers","setCurrentPage","setUsersTotalCount","toggleIsFetching","toggleFollowingProgress","setFilter","_followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","ResultCodes","Success","follow","usersAPI","bind","unfollow","authAPI","axiosInstance","get","res","data","email","password","rememberMe","captcha","post","delete","securityAPI","login","isAuth","captchaUrl","getAuthUserData","meData","ResultCodeCaptcha","CaptchaIsRequired","getCaptchaUrl","messages","length","stopSubmit","_error","url","logout","getUsers","Preloader","className","s","preloader","src","alt","profileAPI","status","put","photoFile","formData","FormData","append","headers","profile","initialState","posts","likeCount","postNewMessageText","userStatus","photos","addPost","setUserProfileData","getUserStatus","setOwnProfileStatus","savePhotoSuccess","getUserProfileData","getStatusFromUser","updateOwnProfileStatus","savePhoto","file","saveProfileData","getState","Error","Promise","reject","initialized","initializeApp","promise","Header","props","smallProfileImg","useSelector","small","topBar","logoWrapper","logoLink","href","logoImg","logoName","topArea","pageNameWrapper","pageName","useLocation","pathname","substring","userImg","isAuthState","undefinedUserImg","to","exitIconWrapper","exit","onClick","exitIcon","HeaderContainer","this","React","Component","connect","Page404","Main","useDispatch","largeProfileImg","large","userName","fullName","isOwner","mainBlockWrapper","gap","row","userProfile","mainBg","profileAuthor","profileImgBlock","mainAuthorImg","imageUpload","inputLabel","photoLoad","onChange","e","target","files","profileNavSection","navTabs","shortAuthorInfo","country","navLinks","active","path","PROFILE","activeClassName","DIALOGS","CHAT","DEVELOPERS","withSuspense","WrappedComponent","restProps","Suspense","fallback","Login","lazy","default","LoginPage","ProfileContainer","DialogsContainer","ChatPage","UsersPage","LOGIN","catchAllUnhandledErrors","alert","container","content","exact","withRouter","dialogs","name","dialogNewMessageText","addMessage","requestUsersWorkerSaga","requestPage","call","requestUsersAction","takeEvery","axios","create","withCredentials","baseURL","ws","subscribers","closeHandler","notifySubscribersAboutStatus","setTimeout","createChannel","messageHandler","newMessages","JSON","parse","forEach","openHandler","errorHandler","cleanUp","addEventListener","close","WebSocket","chatAPI","eventName","callback","push","send","m","v1","idx","arr","_newMessageHandler","newMessageHandlerCreator","_statusChangedHandler","statusChangedHandlerCreator","startMessagesListening","stopMessagesListening","sendMessage"],"mappings":"oGACAA,EAAOC,QAAU,CAAC,iBAAmB,+BAA+B,IAAM,kBAAkB,YAAc,0BAA0B,OAAS,qBAAqB,cAAgB,4BAA4B,gBAAkB,8BAA8B,cAAgB,4BAA4B,YAAc,0BAA0B,WAAa,yBAAyB,UAAY,wBAAwB,kBAAoB,gCAAgC,QAAU,sBAAsB,gBAAkB,8BAA8B,SAAW,uBAAuB,QAAU,sBAAsB,SAAW,uBAAuB,OAAS,uB,oBCA7oBD,EAAOC,QAAU,CAAC,UAAY,+B,mBCA9BD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,YAAc,4BAA4B,SAAW,yBAAyB,SAAW,yBAAyB,QAAU,wBAAwB,QAAU,wBAAwB,gBAAkB,gCAAgC,SAAW,yBAAyB,QAAU,wBAAwB,YAAc,4BAA4B,MAAQ,sBAAsB,gBAAkB,gCAAgC,KAAO,qBAAqB,SAAW,2B,oGCW7eC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2D,mMCyBIC,GA9BJC,EAAcC,YAAgB,CACjCC,aAAcC,IACdC,aAAcC,IACdC,WAAYC,IACZC,UAAWC,IACXC,IAAKC,IACLC,KAAMC,IACNC,KAAMC,MAeHC,EAAmBrB,OAAOsB,sCAAwCC,IAElEC,EAAiBC,cAEZC,EAAQC,YAAYtB,EAAagB,EAAiBO,YAAgBC,IAAgBL,KAI7F,SAAUpB,IAAV,iEACG,OADH,SACS0B,YAAI,CAACC,gBADd,uCAFAP,EAAeQ,IAAI5B,GChCnB6B,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAUT,MAAOA,GACf,kBAACU,EAAA,EAAD,SAINC,SAASC,eAAe,SF0HpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBC,MAAK,SAAAC,GACJA,EAAaC,gBAEdC,OAAM,SAAAC,GACLC,QAAQD,MAAMA,EAAME,a,kOGjJfC,EAAsB,SAACC,EAAYC,EAAaC,EAAkBC,GAC5E,OAAOH,EAAMI,KAAI,SAACC,GACf,OAAIA,EAAEH,KAAiBD,EACb,2BAAII,GAAMF,GAEbE,MCCTC,EAAkB,CAClBC,MAAO,GACPC,gBAAiB,EACjBC,SAAU,GACVC,YAAa,IACbC,YAAY,EACZC,oBAAqB,GACrBC,OAAQ,CACJC,KAAM,GACNC,OAAQ,OASHrD,EAAe,WAAuG,IAAtGsD,EAAqG,uDAAnEV,EAAiBW,EAAkD,uCAC9H,OAAQA,EAAOC,MACX,IAAK,kBACD,OAAO,2BACAF,GADP,IAEIT,MAAOR,EAAoBiB,EAAMT,MAAOU,EAAOE,OAAQ,KAAM,CAACC,UAAU,MAEhF,IAAK,oBACD,OAAO,2BACAJ,GADP,IAEIT,MAAOR,EAAoBiB,EAAMT,MAAOU,EAAOE,OAAQ,KAAM,CAACC,UAAU,MAEhF,IAAK,qBACD,OAAO,2BAAIJ,GAAX,IAAkBT,MAAM,YAAKU,EAAOV,SACxC,IAAK,4BACD,OAAO,2BAAIS,GAAX,IAAkBN,YAAaO,EAAOP,cAC1C,IAAK,iCACD,OAAO,2BAAIM,GAAX,IAAkBR,gBAAiBS,EAAOI,aAC9C,IAAK,8BACD,OAAO,2BAAIL,GAAX,IAAkBL,WAAYM,EAAON,aACzC,IAAK,iCACD,OAAO,2BACAK,GADP,IAEIJ,oBAAqBK,EAAOK,QAAQX,WAAf,sBACXK,EAAMJ,qBADK,CACgBK,EAAOK,QAAQC,SAC9CP,EAAMJ,oBAAoBC,QAAO,SAAAW,GAAE,OAAIA,IAAOP,EAAOK,QAAQC,YAE3E,IAAK,sBACD,OAAO,2BACAP,GADP,IAEIH,OAAQI,EAAOK,QAAQT,SAE/B,QACI,OAAOG,IAKNS,EAAU,CACnBC,cAAe,SAACP,GAAD,MAAqB,CAACD,KAAM,kBAAmBC,WAC9DQ,gBAAiB,SAACR,GAAD,MAAqB,CAACD,KAAM,oBAAqBC,WAClES,SAAU,SAACrB,GAAD,MAA8B,CAACW,KAAM,qBAAsBX,UACrEsB,eAAgB,SAACnB,GAAD,MAA0B,CACtCQ,KAAM,4BACNR,gBAEJoB,mBAAoB,SAACT,GAAD,MAAyB,CACzCH,KAAM,iCACNG,eAEJU,iBAAkB,SAACpB,GAAD,MAA0B,CACxCO,KAAM,8BAA+BP,eAEzCqB,wBAAyB,SAACrB,EAAqBY,GAAtB,MAA0C,CAC/DL,KAAM,iCACNI,QAAS,CACLX,aACAY,YAGRU,UAAW,SAACpB,GAAD,MAAyB,CAChCK,KAAM,sBACNI,QAAS,CAACT,aAKZqB,EAAmB,uCAAG,WAAOC,EACAZ,EACAa,EACAC,GAHP,SAAAC,EAAA,6DAIxBH,EAASV,EAAQO,yBAAwB,EAAMT,IAJvB,SAKHa,EAAUb,GALP,cAOXgB,aAAeC,IAAYC,SACpCN,EAASE,EAAcd,IAE3BY,EAASV,EAAQO,yBAAwB,EAAOT,IAVxB,2CAAH,4DAaZmB,EAAS,SAAClB,GACnB,8CAAO,WAAOW,GAAP,SAAAG,EAAA,sEACGJ,EAAoBC,EAAUX,EAAImB,IAASD,OAAOE,KAAKD,KAAWlB,EAAQC,eAD7E,2CAAP,uDAKSmB,EAAW,SAACrB,GACrB,8CAAO,WAAOW,GAAP,SAAAG,EAAA,sEACGJ,EAAoBC,EAAUX,EAAImB,IAASE,SAASD,KAAKD,KAAWlB,EAAQE,iBAD/E,2CAAP,wD,kNCnGSmB,EAAU,WAEjB,OAAOC,IAAcC,IAAd,WACFxD,MAAK,SAAAyD,GAAG,OAAIA,EAAIC,SAHdJ,EAAU,SAKdK,EAAeC,GAA+E,IAA7DC,EAA4D,wDAA/BC,EAA+B,uDAAN,KAC1F,OAAOP,IAAcQ,KAAd,aAA0G,CAACJ,QAAOC,WAAUC,aAAYC,YAC1I9D,MAAK,SAAAyD,GAAG,OAAIA,EAAIC,SAPdJ,EAAU,WAUjB,OAAOC,IAAcS,OAAd,cACFhE,MAAK,SAAAyD,GAAG,OAAIA,EAAIC,S,QCjBdO,EAAc,WAErB,OAAOV,IAAcC,IAAd,4BACFxD,MAAK,SAAAyD,GAAG,OAAIA,EAAIC,SCFvB5C,EAAkB,CACnBkB,GAAI,KACJ2B,MAAO,KACPO,MAAO,KACPC,QAAQ,EACRC,WAAY,MAMFhG,EAAc,WAAyF,IAAxFoD,EAAuF,uDAA5DV,EAAiBW,EAA2C,uCAChH,OAAQA,EAAOC,MACZ,IAAK,wBACL,IAAK,0BACF,OAAO,2BAAIF,GAAUC,EAAOK,SAC/B,QACG,OAAON,IAKHS,EACG,SAACD,EAAmB2B,EAAsBO,EAAsBC,GAAhE,MAAqF,CAC/FzC,KAAM,wBACNI,QAAS,CAACE,KAAI2B,QAAOO,QAAOC,YAHrBlC,EAKY,SAACmC,GAAD,MAAyB,CAC5C1C,KAAM,0BACNI,QAAS,CAACsC,gBAKHC,EAAkB,yDAC3B,WAAO1B,GAAP,uBAAAG,EAAA,sEACwBQ,IADxB,QACSgB,EADT,QAEcvB,aAAeC,IAAYC,UAAU,EACpBqB,EAAOZ,KAA3B1B,EADuC,EACvCA,GAAI2B,EADmC,EACnCA,MAAOO,EAD4B,EAC5BA,MAChBvB,EAASV,EAAoBD,EAAI2B,EAAOO,GAAO,KAJrD,2CAD2B,uDASlBA,EAAQ,SAACP,EAAeC,EAAkBC,GAAlC,IAAuDC,EAAvD,uDAAgF,KAAhF,8CACjB,WAAOnB,GAAP,iBAAAG,EAAA,sEACsBQ,EAAcK,EAAOC,EAAUC,EAAYC,GADjE,QACSJ,EADT,QAEYX,aAAeC,IAAYC,QACjCN,EAAS0B,MAGLX,EAAKX,aAAewB,IAAkBC,mBACvC7B,EAAS8B,KAGRC,EAAWhB,EAAKgB,SAASC,OAAS,EAAIjB,EAAKgB,SAAS,GAAK,aAC7D/B,EAASiC,YAAW,QAAS,CAACC,OAAQH,MAX5C,2CADiB,uDAgBRD,EAAgB,yDACzB,WAAO9B,GAAP,iBAAAG,EAAA,sEACsBmB,IADtB,OACSP,EADT,OAESU,EAAqBV,EAAKoB,IAChCnC,EAASV,EAA6BmC,IAHzC,2CADyB,uDAOhBW,EAAS,yDAClB,WAAOpC,GAAP,SAAAG,EAAA,sEAC0BQ,IAD1B,cAEgBP,aAAeC,IAAYC,SACrCN,EAASV,EAAoB,KAAM,KAAM,MAAM,IAHrD,2CADkB,wD,gCCzEtB,6CAEakB,EAAW,CACrB6B,SADqB,SACZ9D,EAAqBD,GAAqE,IAAnDK,EAAkD,uDAAnC,GAAIC,EAA+B,uDAAN,KACzF,OAAOgC,IAAcC,IACpB,qBAActC,EAAd,kBAAmCD,EAAnC,iBAAoDK,IAAmB,OAAXC,EAAkB,GAAlB,kBAAgCA,KACxFvB,MAAK,SAAAyD,GAAG,OAAIA,EAAIC,SAGxBR,OAPqB,SAOdnB,GACJ,OAAOwB,IAAcQ,KAAd,iBAA8ChC,GAAU,IAC1D/B,MAAK,SAAAyD,GAAG,OAAIA,EAAIC,SAGxBL,SAZqB,SAYZtB,GACN,OAAOwB,IAAcS,OAAd,iBAA+BjC,IACjC/B,MAAK,SAAAyD,GAAG,OAAIA,EAAIC,W,gCChB3B,yFAIauB,EAAsB,WAChC,OACI,yBAAKC,UAAWC,IAAEC,WACf,yBAAKC,IAAKD,IAAWE,IAAI,iB,gUCCtBC,EAAa,SACZxD,GACR,OAAOwB,IAAcC,IAAd,kBAA0CzB,IAC5C/B,MAAK,SAAAyD,GAAG,OAAIA,EAAIC,SAHd6B,EAAa,SAMTxD,GACX,OAAOwB,IAAcC,IAAd,yBAA4CzB,IAC9C/B,MAAK,SAAAyD,GAAG,OAAIA,EAAIC,SARd6B,EAAa,SAWAC,GACpB,OAAOjC,IAAckC,IAAd,iBAAqD,CAACD,WACxDxF,MAAK,SAAAyD,GAAG,OAAIA,EAAIC,SAbd6B,EAAa,SAgBbG,GACP,IAAMC,EAAW,IAAIC,SAErB,OADAD,EAASE,OAAO,QAASH,GAClBnC,IAAckC,IAAd,gBAA+EE,EAAU,CAC7FG,QAAS,CACN,eAAgB,yBAEnB9F,MAAK,SAAAyD,GAAG,OAAIA,EAAIC,SAvBZ6B,EAAa,SA0BXQ,GACT,OAAOxC,IAAckC,IAAd,WAA4DM,GAC9D/F,MAAK,SAAAyD,GAAG,OAAIA,EAAIC,S,QC9BvBsC,EAAe,CAChBC,MAAO,CACJ,CAACjE,GAAI,EAAG1B,QAAS,oBAAqB4F,UAAW,IACjD,CAAClE,GAAI,EAAG1B,QAAS,2BAA4B4F,UAAW,IACxD,CAAClE,GAAI,EAAG1B,QAAS,8BAA+B4F,UAAW,IAE9DH,QAAS,KACTP,OAAQ,IAOE1H,EAAiB,WACmD,IADlD0D,EACiD,uDADhBwE,EACjCvE,EAAiD,uCAC7E,OAAQA,EAAOC,MACZ,IAAK,sBACF,OAAO,2BACDF,GADN,IAEGyE,MAAM,CAAE,CAACjE,GAAI,EAAG1B,QAASmB,EAAO0E,mBAAoBD,UAAW,IAA1D,mBAAiE1E,EAAMyE,UAElF,IAAK,8BACF,OAAO,2BAAIzE,GAAX,IAAkBuE,QAAStE,EAAOsE,UACrC,IAAK,6BACF,OAAO,2BAAIvE,GAAX,IAAkBgE,OAAQ/D,EAAO2E,aACpC,IAAK,mCACF,OAAO,2BAAI5E,GAAX,IAAkBgE,OAAQ/D,EAAO+D,SACpC,IAAK,gCACF,OAAO,2BAAIhE,GAAX,IAAkBuE,QAAQ,2BAAKvE,EAAMuE,SAAZ,IAAqBM,OAAQ5E,EAAO4E,WAChE,QACG,OAAO7E,IAKHS,EAAU,CACpBqE,QAAQ,SAACH,GAAD,MACH,CAACzE,KAAM,sBAAuByE,uBACnCI,mBAAmB,SAACR,GAAD,MACd,CAACrE,KAAM,8BAA+BqE,YAC3CS,cAAc,SAACJ,GAAD,MACT,CAAC1E,KAAM,6BAA8B0E,eAC1CK,oBAAoB,SAACjB,GAAD,MACf,CAAC9D,KAAM,mCAAoC8D,WAChDkB,iBAAiB,SAACL,GAAD,MAAyB,CAAC3E,KAAM,gCAAiC2E,YAIxEM,EAAqB,SAAC5E,GAAD,8CAC9B,WAAOY,GAAP,eAAAG,EAAA,sEACsByC,EAAsBxD,GAD5C,OACS2B,EADT,OAEGf,EAASV,EAAQsE,mBAAmB7C,IAFvC,2CAD8B,uDAMrBkD,EAAoB,SAAC7E,GAAD,8CAC7B,WAAOY,GAAP,eAAAG,EAAA,sEACsByC,EAAyBxD,GAD/C,OACS2B,EADT,OAEGf,EAASV,EAAQuE,cAAc9C,IAFlC,2CAD6B,uDAMpBmD,EAAyB,SAACrB,GAAD,8CAClC,WAAO7C,GAAP,SAAAG,EAAA,sEACsByC,EAAkCC,GADxD,cAEYzC,aAAeC,IAAYC,SACjCN,EAASV,EAAQwE,oBAAoBjB,IAH3C,2CADkC,uDAQzBsB,EAAY,SAACC,GAAD,8CACrB,WAAOpE,GAAP,eAAAG,EAAA,sEACsByC,EAAqBwB,GAD3C,QACSrD,EADT,QAEYX,aAAeC,IAAYC,SACjCN,EAASV,EAAQyE,iBAAiBhD,EAAKA,KAAK2C,SAHlD,2CADqB,uDAQZW,EAAkB,SAACjB,GAAD,8CAC3B,WAAOpD,EAA0EsE,GAAjF,mBAAAnE,EAAA,6DACSf,EAASkF,IAAW9I,UAAU6D,GADvC,SAEsBuD,EAAuBQ,GAF7C,WAESrC,EAFT,QAGYX,aAAeC,IAAYC,QAHvC,oBAIoB,OAAXlB,EAJT,gBAKSY,EAASgE,EAAmB5E,IALrC,6BAOe,IAAImF,MAAJ,wBAPf,uCAYYxC,EAAWhB,EAAKgB,SAASC,OAAS,EAAIjB,EAAKgB,SAAS,GAAK,aAC/D/B,EAASiC,YAAW,eAAgB,CAACC,OAAQH,KAbnD,kBAcayC,QAAQC,OAAO1C,IAd5B,4CAD2B,0D,uHC/E3B5D,EAAkB,CACnBuG,aAAa,GAMH/I,EAAa,WAAuF,IAAtFkD,EAAqF,uDAA3DV,EAAiBW,EAA0C,uCAC7G,OAAQA,EAAOC,MACZ,IAAK,6BACF,OAAO,2BAAIF,GAAX,IAAkB6F,aAAa,IAClC,QACG,OAAO7F,IAKHS,EACS,iBAAO,CACvBP,KAAM,+BAKC4F,EAAgB,kBACzB,SAAC3E,GACE,IAAI4E,EAAU5E,EAAS0B,eACvB8C,QAAQ/H,IAAI,CAACmI,IACRvH,MAAK,WACH2C,EAASV,S,mBChCvB9E,EAAOC,QAAU,CAAC,IAAM,iBAAiB,UAAY,uBAAuB,QAAU,uB,mOCezEoK,EAAoC,SAACC,GAG/C,IAIMC,EAAkBC,aAAqD,SAAAnG,GAAK,uBAAIA,EAAM3D,aAAakI,eAAvB,aAAI,EAA4BM,OAAOuB,SAEzH,OACI,yBAAK1C,UAAWC,IAAE0C,QACf,yBAAK3C,UAAWC,IAAE2C,aACf,uBAAG5C,UAAWC,IAAE4C,SAAUC,KAAK,KAC5B,yBAAK9C,UAAWC,IAAE8C,QAAS5C,IAAK4C,IAAS3C,IAAI,SAC7C,wBAAIJ,UAAWC,IAAE+C,UAAjB,iBAGN,yBAAKhD,UAAWC,IAAEgD,SACf,yBAAKjD,UAAWC,IAAEiD,iBACf,0BAAMlD,UAAWC,IAAEkD,UAftBC,cAAcC,SAASC,UAAU,KAmBjC,yBAAKtD,UAAWC,IAAEsD,SAEZhB,EAAMtD,OACA,oCACC,wBAAIe,UAAWC,IAAEuD,aAAcjB,EAAMvD,OACrC,yBAAKmB,IAAKqC,GAAoCiB,IAAkBrD,IAAI,eAErE,kBAAC,IAAD,CAASsD,GAAI,SAAU1D,UAAWC,IAAEjB,OAApC,UAGZ,0BAAMgB,UAAWC,IAAE0D,iBAEbpB,EAAMtD,QACH,uBAAGe,UAAWC,IAAE2D,KAAMd,KAAK,IAAIe,QAAStB,EAAM1C,QAC9C,yBAAKG,UAAWC,IAAE6D,SAAU3D,IAAKyD,IAAMxD,IAAI,kB,QC7C3D2D,E,4JACH,WACG,OAAO,kBAAC,EAAD,CAAQ/E,MAAOgF,KAAKzB,MAAMvD,MAClBC,OAAQ+E,KAAKzB,MAAMtD,OACnBY,OAAQmE,KAAKzB,MAAM1C,a,GAJVoE,IAAMC,WAwBrBC,eALE,SAAC7H,GAAD,MAAwC,CACtD2C,OAAQ3C,EAAMrD,UAAUgG,OACxBD,MAAO1C,EAAMrD,UAAU+F,SAKtB,CAACG,oBAAiBU,YAFPsE,CAGbJ,G,gBCjCWK,EAAoB,WAG9B,OACI,6BACG,4CADH,oC,0CCGMC,EAAO,WAEjB,IAAM5G,EAAW6G,cAQXC,EAAkB9B,aAAqD,SAAAnG,GAAK,uBAAIA,EAAM3D,aAAakI,eAAvB,aAAI,EAA4BM,OAAOqD,SAEnHC,EAAWhC,aAAqD,SAAAnG,GAAK,uBAAIA,EAAM3D,aAAakI,eAAvB,aAAI,EAA4B6D,YAMrGC,EAHYlC,aAAwC,SAAAnG,GAAK,uBAAIA,EAAM3D,aAAakI,eAAvB,aAAI,EAA4BhE,YAChF4F,aAAwC,SAAAnG,GAAK,OAAIA,EAAMrD,UAAU6D,MAIhF,OACI,yBAAKkD,UAAWC,IAAE2E,kBACf,yBAAK5E,UAAWC,IAAE4E,KACf,yBAAK7E,UAAWC,IAAE6E,KACf,yBAAK9E,UAAWC,IAAE8E,aACf,yBAAK/E,UAAWC,IAAE+E,QACf,yBAAKhF,UAAWC,IAAEgF,eACf,yBAAKjF,UAAWC,IAAEiF,iBACf,yBAAKlF,UAAWC,IAAEkF,cAAehF,IAAKoE,GAAoCd,IACrErD,IAAI,WAENuE,GACA,yBAAK3E,UAAWC,IAAEmF,aACf,2BAAOpF,UAAWC,IAAEoF,YACjB,2BAAOrF,UAAWC,IAAEqF,UAAW9I,KAAK,OAAO+I,SA9BrD,SAACC,GACC,OAAnBA,EAAEC,OAAOC,OAAkBF,EAAEC,OAAOC,MAAMjG,QAC3ChC,EAASmE,YAAU4D,EAAEC,OAAOC,MAAM,aAmCxB,yBAAK1F,UAAWC,IAAE0F,mBACf,yBAAK3F,UAAWC,IAAE2F,SACf,yBAAK5F,UAAWC,IAAE4F,iBACf,yBAAK7F,UAAWC,IAAEwE,UAAWA,GAC7B,yBAAKzE,UAAWC,IAAE6F,SAAlB,kBAEH,wBAAI9F,UAAWC,IAAE8F,UACd,wBAAI/F,UAAWC,IAAE+F,QACd,kBAAC,IAAD,CAAStC,GAAIuC,EAAKC,QAASC,gBAAiBlG,IAAE+F,QAA9C,YAEH,4BACG,kBAAC,IAAD,CAAStC,GAAIuC,EAAKG,QAASD,gBAAiBlG,IAAE+F,QAA9C,YAEH,4BACG,kBAAC,IAAD,CAAStC,GAAIuC,EAAKI,KAAOF,gBAAiBlG,IAAE+F,QAA5C,SAEH,4BACG,kBAAC,IAAD,CAAStC,GAAIuC,EAAKK,WAAaH,gBAAiBlG,IAAE+F,QAAlD,uB,QChExB,SAASO,EAAkBC,GAC9B,OAAO,SAACjE,GAAgB,IACZkE,EADW,iBACElE,GACrB,OACI,kBAAC,IAAMmE,SAAP,CAAgBC,SAAU,kBAAC5G,EAAA,EAAD,OACtB,kBAACyG,EAAqBC,KCOtC,IAAMG,EAAQ3C,IAAM4C,MAChB,kBAAM,oDAAmC/L,MAAK,kBAAkB,CAACgM,QAAnB,EAAEC,iBAE9CC,EAAmB/C,IAAM4C,MAAK,kBAAM,uDACpCI,EAAmBhD,IAAM4C,MAAK,kBAAM,uDACpCK,EAAWjD,IAAM4C,MAAK,kBAAM,iCAC5BM,EAAYlD,IAAM4C,MACpB,kBAAM,oDAAwC/L,MAAK,kBAAkB,CAACgM,QAAnB,EAAEK,iBAG5ClB,EAAO,CAChBC,QAAS,WACTE,QAAS,WACTC,KAAM,QACNC,WAAY,cACZc,MAAO,UAGL5M,E,4MAEF6M,wBAA0B,SAAC7B,GACvB8B,MAAM,wB,uDAGV,WACItD,KAAKzB,MAAMH,kB,oBAGf,WAEI,OAAI4B,KAAKzB,MAAMJ,YACJ,kBAACpC,EAAA,EAAD,MAIP,yBAAKC,UAAWC,IAAE9G,KACd,kBAAC,EAAD,MACA,yBAAK6G,UAAWC,IAAEsH,WACd,kBAAC,EAAD,MACA,yBAAKvH,UAAWC,IAAEuH,SACd,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOC,OAAK,EAACxB,KAAK,IAAI3L,OAAQ,kBAAM,kBAAC,IAAD,CAAUoJ,GAAIuC,EAAKC,aACvD,kBAAC,IAAD,CAAOD,KAAMA,EAAKC,QAAU,WAAY5L,OAAQiM,EAAaS,KAC7D,kBAAC,IAAD,CAAOf,KAAMA,EAAKG,QAAS9L,OAAQiM,EAAaU,KAChD,kBAAC,IAAD,CAAOhB,KAAMA,EAAKI,KAAO/L,OAAQiM,EAAaW,KAC9C,kBAAC,IAAD,CAAOjB,KAAMA,EAAKK,WAAYhM,OAAQiM,EAAaY,KACnD,kBAAC,IAAD,CAAOlB,KAAMA,EAAKmB,MAAO9M,OAAQiM,EAAaK,KAC9C,kBAAC,IAAD,CAAOtM,OAAQiM,EAAanC,a,GA7BtCH,IAAMC,WAkDTvK,gBACX+N,IACAvD,aANoB,SAAC7H,GAAD,MAAwC,CAC5D6F,YAAa7F,EAAMnD,IAAIgJ,eAKsD,CAACC,oBAFnEzI,CAGba,I,iBCtFFvC,EAAOC,QAAU,k6L,uHCEb0D,EAAkB,CACnB+L,QAAS,CACN,CAAC7K,GAAI,EAAG8K,KAAM,oBACd,CAAC9K,GAAI,EAAG8K,KAAM,eACd,CAAC9K,GAAI,EAAG8K,KAAM,kBAEjBpI,SAAU,CACP,CAAC1C,GAAI,EAAG1B,QAAS,uCACjB,CAAC0B,GAAI,EAAG1B,QAAS,0BACjB,CAAC0B,GAAI,EAAG1B,QAAS,4CAOVtC,EAAiB,WACgD,IAD/CwD,EAC8C,uDADjBV,EAC7BW,EAA8C,uCAC1E,OAAQA,EAAOC,MACZ,IAAK,6BACF,OAAO,2BACDF,GADN,IAEGkD,SAAS,GAAD,mBAAMlD,EAAMkD,UAAZ,CAAsB,CAAC1C,GAAI,EAAG1B,QAASmB,EAAOsL,0BAE5D,QACG,OAAOvL,IAKHS,EAAU,CACpB+K,WAAY,SAACD,GAAD,MACP,CAACrL,KAAM,6BAA8BqL,2B,2JC7B5BE,G,WAmBA5N,GAnBV,SAAU4N,EAAuBxL,GAAjC,uEACH,OADG,SACGgE,YAAIxD,IAAQM,kBAAiB,IADhC,OAEH,OAFG,SAEGkD,YAAIxD,IAAQI,eAAeZ,EAAOyL,cAFrC,OAGH,OAHG,SAGGzH,YAAIxD,IAAQQ,UAAUhB,EAAOJ,SAHhC,OAKuB,OALvB,SAK6B8L,YAAKhK,IAAS6B,SAAUvD,EAAOyL,YAAazL,EAAOR,SAAUQ,EAAOJ,OAAOC,KAAMG,EAAOJ,OAAOE,QAL5H,OAOH,OAFMmC,EALH,iBAOG+B,YAAIxD,IAAQG,SAASsB,EAAKlD,QAP7B,QAQH,OARG,UAQGiF,YAAIxD,IAAQM,kBAAiB,IARhC,QASH,OATG,UASGkD,YAAIxD,IAAQK,mBAAmBoB,EAAK7B,aATvC,wCAYA,IAAMuL,EAAqB,SAACF,EAAqBjM,EAAkBI,GAAxC,MAAgE,CAC9FK,KAAM,qBACNwL,cACAjM,WACAI,WAGG,SAAUhC,IAAV,iEACH,OADG,SACGgO,YAAU,qBAAsBJ,GADnC,yC,+BCxBP,0GAiBYjK,EAKAuB,EAtBZ,QAGahB,EAHb,OAG6B+J,EAAMC,OAAO,CACvCC,iBAAiB,EACjBC,QAAS,gDACT3H,QAAS,CACN,UAAW,2C,SAUL9C,O,qBAAAA,I,kBAAAA,M,cAKAuB,O,2CAAAA,M,kLCjBRmJ,E,uCALEC,EAAc,CAClB,oBAAqB,GACrB,iBAAkB,IAMdC,EAAe,WACnBC,EAA6B,WAC7BC,WAAWC,EAAe,MAGtBC,EAAiB,SAACtD,GACtB,IAAMuD,EAAcC,KAAKC,MAAMzD,EAAEhH,MACjCiK,EAAY,qBAAqBS,SAAQ,SAAAjJ,GAAC,OAAIA,EAAE8I,OAG5CI,EAAc,WAClBR,EAA6B,UAGzBS,EAAe,WACnBT,EAA6B,SAC7BxN,QAAQD,MAAM,iBAGVmO,EAAU,WAAO,IAAD,QAClB,QAAF,EAAAb,SAAA,SAAIc,iBAAiB,QAASZ,GAC5B,QAAF,EAAAF,SAAA,SAAIc,iBAAiB,UAAWR,GAC9B,QAAF,EAAAN,SAAA,SAAIc,iBAAiB,OAAQH,GAC3B,QAAF,EAAAX,SAAA,SAAIc,iBAAiB,QAASF,IAG1BT,EAA+B,SAACrI,GACpCmI,EAAY,kBAAkBS,SAAQ,SAAAjJ,GAAC,OAAIA,EAAEK,OAG/C,SAASuI,IAAiB,IAAD,UACvBQ,IACE,QAAF,EAAAb,SAAA,SAAIe,QACJf,EAAK,IAAIgB,UAAU,gEACnBb,EAA6B,WAC3B,QAAF,EAAAH,SAAA,SAAIc,iBAAiB,QAASZ,GAC5B,QAAF,EAAAF,SAAA,SAAIc,iBAAiB,UAAWR,GAC9B,QAAF,EAAAN,SAAA,SAAIc,iBAAiB,OAAQH,GAC3B,QAAF,EAAAX,SAAA,SAAIc,iBAAiB,QAASF,GAGzB,IAAMK,EAAU,WAEnBZ,KAFSY,EAAU,WAIb,IAAD,EACLhB,EAAY,qBAAuB,GACnCA,EAAY,kBAAoB,GAChCY,IACE,QAAF,EAAAb,SAAA,SAAIe,SARKE,EAAU,SAUXC,EAA4BC,GAIpC,OADAlB,EAAYiB,GAAWE,KAAKD,GACrB,WAELlB,EAAYiB,GAAajB,EAAYiB,GAAWvN,QAAO,SAAA8D,GAAC,OAAIA,IAAM0J,OAhB3DF,EAAU,SAmBTC,EAA4BC,GAEtClB,EAAYiB,GAAajB,EAAYiB,GAAWvN,QAAO,SAAA8D,GAAC,OAAIA,IAAM0J,MArBzDF,EAAU,SAuBTrO,GAAkB,IAAD,EACzB,QAAF,EAAAoN,SAAA,SAAIqB,KAAKzO,I,SClETQ,EAAkB,CACpB4D,SAAU,GACVc,OAAQ,WAGG9G,EAAc,WAAyF,IAAxF8C,EAAuF,uDAA5DV,EAAiBW,EAA2C,uCACjH,OAAQA,EAAOC,MACb,IAAK,4BACH,OAAO,2BACFF,GADL,IAEEkD,SAAU,sBAAIlD,EAAMkD,UAAV,YAAuBjD,EAAOK,QAAQ4C,SAC7C9D,KAAI,SAAAoO,GAAC,kCAAUA,GAAV,IAAahN,GAAIiN,qBACtB5N,QAAO,SAAC2N,EAAGE,EAAKC,GAAT,OAAiBD,GAAOC,EAAIxK,OAAS,SAEnD,IAAK,yBACH,OAAO,2BACFnD,GADL,IAEEgE,OAAQ/D,EAAOK,QAAQ0D,SAE3B,QACE,OAAOhE,IAKAS,EACO,SAACyC,GAAD,MAAqC,CACrDhD,KAAM,4BACNI,QAAS,CAAE4C,cAHFzC,EAKI,SAACuD,GAAD,MAAyB,CACtC9D,KAAM,yBACNI,QAAS,CAAE0D,YAIX4J,EAAwE,KACtEC,EAA2B,SAAC1M,GAOhC,OAN2B,OAAvByM,IACFA,EAAqB,SAAC1K,GACpB/B,EAASV,EAAyByC,MAI/B0K,GAGLE,EAA+D,KAC7DC,EAA8B,SAAC5M,GAOnC,OAN8B,OAA1B2M,IACFA,EAAwB,SAAC9J,GACvB7C,EAASV,EAAsBuD,MAI5B8J,GAIIE,EAAyB,yDAAiB,WAAO7M,GAAP,SAAAG,EAAA,sDACrD6L,IACAA,EAAkB,oBAAqBU,EAAyB1M,IAChEgM,EAAkB,iBAAkBY,EAA4B5M,IAHX,2CAAjB,uDAMzB8M,EAAwB,yDACnC,WAAO9M,GAAP,SAAAG,EAAA,sDACE6L,EAAoB,oBAAqBU,EAAyB1M,IAClEgM,EAAoB,iBAAkBY,EAA4B5M,IAClEgM,IAHF,2CADmC,uDAOxBe,EAAc,SAACpP,GAAD,8CACzB,WAAOqC,GAAP,SAAAG,EAAA,sEACQ6L,EAAoBrO,GAD5B,2CADyB,wD,mBC/E3BnD,EAAOC,QAAU,IAA0B,kC,iBCA3CD,EAAOC,QAAU,k5M,iBCAjBD,EAAOC,QAAU,kkF,mBCAjBD,EAAOC,QAAU,IAA0B,wC","file":"static/js/main.24f59d30.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainBlockWrapper\":\"Main_mainBlockWrapper__1zhaG\",\"row\":\"Main_row__2okFP\",\"userProfile\":\"Main_userProfile__1hAUA\",\"mainBg\":\"Main_mainBg__2id15\",\"profileAuthor\":\"Main_profileAuthor__2CRyz\",\"profileImgBlock\":\"Main_profileImgBlock__2LVd2\",\"mainAuthorImg\":\"Main_mainAuthorImg__2YPfG\",\"imageUpload\":\"Main_imageUpload__16wzd\",\"inputLabel\":\"Main_inputLabel__1XOt4\",\"photoLoad\":\"Main_photoLoad__38odt\",\"profileNavSection\":\"Main_profileNavSection__2AFWB\",\"navTabs\":\"Main_navTabs__38j5v\",\"shortAuthorInfo\":\"Main_shortAuthorInfo__qMpGH\",\"userName\":\"Main_userName__2ZlaV\",\"country\":\"Main_country__KPVgW\",\"navLinks\":\"Main_navLinks__2ThuZ\",\"active\":\"Main_active__28oZf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__cPWEp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"topBar\":\"Header_topBar__2-4p2\",\"logoWrapper\":\"Header_logoWrapper__1EXae\",\"logoLink\":\"Header_logoLink__2vXL1\",\"logoName\":\"Header_logoName__2Srpr\",\"logoImg\":\"Header_logoImg__i4uCY\",\"topArea\":\"Header_topArea__3G-YR\",\"pageNameWrapper\":\"Header_pageNameWrapper__2LVlw\",\"pageName\":\"Header_pageName__3MvBm\",\"userImg\":\"Header_userImg__qllUh\",\"isAuthState\":\"Header_isAuthState__33BqM\",\"login\":\"Header_login__2QPgO\",\"exitIconWrapper\":\"Header_exitIconWrapper__3W7mq\",\"exit\":\"Header_exit__1QwZw\",\"exitIcon\":\"Header_exitIcon__Xgr2P\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import {Action, applyMiddleware, combineReducers, compose, createStore} from 'redux'\nimport thunkMiddleware, {ThunkAction} from 'redux-thunk'\nimport {reducer as formReducer} from 'redux-form'\nimport {profileReducer} from '../redux/profile-reducer';\nimport {dialogsReducer} from '../redux/dialogs-reducer';\nimport {usersReducer} from '../redux/users-reducer';\nimport {authReducer} from '../redux/auth-reducer';\nimport {appReducer} from '../redux/app-reducer';\nimport {chatReducer} from '../redux/chat-reducer';\nimport createSagaMiddleware from 'redux-saga'\nimport {all} from 'redux-saga/effects';\nimport {usersWatcherSaga} from '../redux/redux-sagas/users-sagas';\n\nconst rootReducer = combineReducers({\n   profileState: profileReducer,\n   dialogsState: dialogsReducer,\n   usersState: usersReducer,\n   authState: authReducer,\n   app: appReducer,\n   form: formReducer,\n   chat: chatReducer\n})\n\nexport type AppStateType = ReturnType<typeof rootReducer>\n\ntype PropertiesTypes<T> = T extends { [key: string]: infer U } ? U : never\n\n//AC get type of Action which can be object with 'key:string' ang function with (...args) which return something\n//example! followSuccess: (userID: number) => ({type: 'USERS/FOLLOW', userID} as const)\nexport type InferActionsTypes<T extends { [key: string]: (...args: any) => any }> = ReturnType<PropertiesTypes<T>>\n\n//Thunk...\nexport type BaseThunkType<A extends Action,R = Promise<void>> = ThunkAction<R, AppStateType, unknown, A>\n\n//@ts-ignore\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\n\nconst sagaMiddleware = createSagaMiddleware()\n\nexport let store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunkMiddleware,sagaMiddleware)))\n\nsagaMiddleware.run(rootWatcher)\n\nfunction* rootWatcher() {\n   yield all([usersWatcherSaga()])\n}\n","import * as serviceWorker from './serviceWorker';\nimport {HashRouter} from 'react-router-dom';\nimport {Provider} from 'react-redux';\nimport ReactDOM from 'react-dom';\nimport App from './app/App';\nimport React from 'react';\nimport './index.scss';\nimport {store} from './app/store';\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <Provider store={store}>\n        <App/>\n      </Provider>\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","export const updateObjectInArray = (items: any, itemId: any, objPropName: any, newObjProps: any) => {\n   return items.map((u: any) => {\n      if (u[objPropName] === itemId) {\n         return {...u, ...newObjProps}\n      }\n      return u;\n   })\n}\n","import {usersAPI} from '../api/users-api';\nimport {Dispatch} from 'redux';\nimport {APIResponseType, ResultCodes} from '../api/api';\nimport {updateObjectInArray} from '../utils/objectHelpers';\nimport {BaseThunkType, InferActionsTypes} from '../app/store';\n\nlet initializeState = {\n    users: [] as UsersType[],\n    totalUsersCount: 0,\n    pageSize: 16,\n    currentPage: 555,\n    isFetching: false,\n    followingInProgress: [] as number[], //array of users id\n    filter: {\n        term: '',\n        friend: null as null | boolean\n    }\n};\n\nexport type UsersInitializeStateType = typeof initializeState\nexport type FilterType = typeof initializeState.filter\ntype ActionsType = InferActionsTypes<typeof actions>\ntype ThunkType = BaseThunkType<ActionsType>\n\nexport const usersReducer = (state: UsersInitializeStateType = initializeState, action: ActionsType): UsersInitializeStateType => {\n    switch (action.type) {\n        case 'SN/USERS/FOLLOW':\n            return {\n                ...state,\n                users: updateObjectInArray(state.users, action.userID, 'id', {followed: true})\n            };\n        case 'SN/USERS/UNFOLLOW':\n            return {\n                ...state,\n                users: updateObjectInArray(state.users, action.userID, 'id', {followed: false})\n            };\n        case 'SN/USERS/SET-USERS':\n            return {...state, users: [...action.users]};\n        case 'SN/USERS/SET-CURRENT-PAGE':\n            return {...state, currentPage: action.currentPage};\n        case 'SN/USERS/SET-USERS-TOTAL-COUNT':\n            return {...state, totalUsersCount: action.totalCount};\n        case 'SN/USERS/TOGGLE-IS-FETCHING':\n            return {...state, isFetching: action.isFetching};\n        case 'SN/USERS/FOLLOWING-IN-PROGRESS':\n            return {\n                ...state,\n                followingInProgress: action.payload.isFetching\n                    ? [...state.followingInProgress, action.payload.userId]\n                    : state.followingInProgress.filter(id => id !== action.payload.userId)\n            };\n        case 'SN/USERS/SET-FILTER':\n            return {\n                ...state,\n                filter: action.payload.filter\n            }\n        default:\n            return state;\n    }\n};\n\n//Action\nexport const actions = {\n    followSuccess: (userID: number) => ({type: 'SN/USERS/FOLLOW', userID} as const),\n    unfollowSuccess: (userID: number) => ({type: 'SN/USERS/UNFOLLOW', userID} as const),\n    setUsers: (users: Array<UsersType>) => ({type: 'SN/USERS/SET-USERS', users} as const),\n    setCurrentPage: (currentPage: number) => ({\n        type: 'SN/USERS/SET-CURRENT-PAGE',\n        currentPage\n    } as const),\n    setUsersTotalCount: (totalCount: number) => ({\n        type: 'SN/USERS/SET-USERS-TOTAL-COUNT',\n        totalCount\n    } as const),\n    toggleIsFetching: (isFetching: boolean) => ({\n        type: 'SN/USERS/TOGGLE-IS-FETCHING', isFetching\n    } as const),\n    toggleFollowingProgress: (isFetching: boolean, userId: number) => ({\n        type: 'SN/USERS/FOLLOWING-IN-PROGRESS',\n        payload: {\n            isFetching,\n            userId\n        }\n    } as const),\n    setFilter: (filter: FilterType) => ({\n        type: 'SN/USERS/SET-FILTER',\n        payload: {filter}\n    } as const)\n};\n\n//Thunk\nconst _followUnfollowFlow = async (dispatch: Dispatch<ActionsType>,\n                                   userId: number,\n                                   apiMethod: (userId: number) => Promise<APIResponseType>,\n                                   actionCreator: (userId: number) => ActionsType) => {\n    dispatch(actions.toggleFollowingProgress(true, userId));\n    let response = await apiMethod(userId);\n\n    if (response.resultCode === ResultCodes.Success) {\n        dispatch(actionCreator(userId));\n    }\n    dispatch(actions.toggleFollowingProgress(false, userId));\n};\n\nexport const follow = (id: number): ThunkType => {\n    return async (dispatch) => {\n        await _followUnfollowFlow(dispatch, id, usersAPI.follow.bind(usersAPI), actions.followSuccess);\n    };\n};\n\nexport const unfollow = (id: number): ThunkType => {\n    return async (dispatch) => {\n        await _followUnfollowFlow(dispatch, id, usersAPI.unfollow.bind(usersAPI), actions.unfollowSuccess);\n    };\n};\n\n//Type\nexport type PhotosType = {\n    small: string | null\n    large: string | null\n}\n\nexport type UsersType = {\n    id: number\n    name: string\n    status: string\n    photos: PhotosType\n    followed: boolean\n}\n\n\n","import {axiosInstance, APIResponseType, ResultCodeCaptcha, ResultCodes} from './api'\n\ntype MeResponseDataType = {\n      id: number,\n      email: string,\n      login: string\n}\n\ntype LoginResponseDataType = {\n   userId: number\n}\n\nexport const authAPI = {\n   me() {\n      return axiosInstance.get<APIResponseType<MeResponseDataType>>(`auth/me`)\n          .then(res => res.data)\n   },\n   login(email: string, password: string, rememberMe: boolean = false, captcha: null | string = null) {\n      return axiosInstance.post<APIResponseType<LoginResponseDataType, ResultCodeCaptcha | ResultCodes>>(`auth/login`, {email, password, rememberMe, captcha})\n          .then(res => res.data)\n   },\n   logout() {\n      return axiosInstance.delete(`auth/login`,)\n          .then(res => res.data)\n   },\n}","import {axiosInstance} from './api'\n\ntype GetCaptchaUrlResponseType = {\n   url: string\n}\n\nexport const securityAPI = {\n   getCaptchaUrl() {\n      return axiosInstance.get<GetCaptchaUrlResponseType>(`security/get-captcha-url`)\n          .then(res => res.data)\n   },\n}","import {ThunkDispatch} from 'redux-thunk'\nimport {authAPI} from '../api/auth-api'\nimport {FormAction, stopSubmit} from 'redux-form'\nimport {securityAPI} from '../api/security-api'\nimport {ResultCodeCaptcha, ResultCodes} from '../api/api'\nimport {AppStateType, BaseThunkType, InferActionsTypes} from '../app/store';\n\nlet initializeState = {\n   id: null as (number | null),\n   email: null as string | null,\n   login: null as string | null,\n   isAuth: false,\n   captchaUrl: null as string | null\n}\nexport type AuthInitStateType = typeof initializeState\ntype ActionsType = InferActionsTypes<typeof actions>\ntype ThunkType = BaseThunkType<ActionsType>\n\nexport const authReducer = (state: AuthInitStateType = initializeState, action: ActionsType): AuthInitStateType => {\n   switch (action.type) {\n      case 'SN/AUTH/SET-USER-DATA':\n      case 'SN/AUTH/GET-CAPTCHA-URL':\n         return {...state, ...action.payload}\n      default:\n         return state\n   }\n}\n\n//Action\nexport const actions = {\n   setUserData: (id: number | null, email: string | null, login: string | null, isAuth: boolean) => ({\n      type: 'SN/AUTH/SET-USER-DATA',\n      payload: {id, email, login, isAuth},\n   } as const),\n   getCaptchaUrlSuccess: (captchaUrl: string) => ({\n      type: 'SN/AUTH/GET-CAPTCHA-URL',\n      payload: {captchaUrl},\n   } as const)\n}\n\n//Thunk\nexport const getAuthUserData = (): ThunkType =>\n    async (dispatch: ThunkDispatch<AppStateType, unknown, ActionsType>) => {\n       const meData = await authAPI.me()\n       if (meData.resultCode === ResultCodes.Success) {\n          let {id, email, login} = meData.data\n          dispatch(actions.setUserData(id, email, login, true))\n       }\n    }\n\nexport const login = (email: string, password: string, rememberMe: boolean, captcha: string | null = null): ThunkType =>\n    async (dispatch: ThunkDispatch<AppStateType, unknown, ActionsType | FormAction>) => {\n       const data = await authAPI.login(email, password, rememberMe, captcha)\n       if (data.resultCode === ResultCodes.Success) {\n          dispatch(getAuthUserData())\n       } else {\n          //captcha = result code 10\n          if (data.resultCode === ResultCodeCaptcha.CaptchaIsRequired) {\n             dispatch(getCaptchaUrl())\n          }\n          //incorrect form value\n          let messages = data.messages.length > 0 ? data.messages[0] : 'some error'\n          dispatch(stopSubmit('login', {_error: messages}))\n       }\n    }\n\nexport const getCaptchaUrl = (): ThunkType =>\n    async (dispatch: ThunkDispatch<AppStateType, unknown, ActionsType>) => {\n       const data = await securityAPI.getCaptchaUrl()\n       const captchaUrl: string = data.url\n       dispatch(actions.getCaptchaUrlSuccess(captchaUrl))\n    }\n\nexport const logout = (): ThunkType =>\n    async (dispatch: ThunkDispatch<AppStateType, unknown, ActionsType>) => {\n       const response = await authAPI.logout()\n       if (response.resultCode === ResultCodes.Success) {\n          dispatch(actions.setUserData(null, null, null, false))\n       }\n    }\n\n\n","import {axiosInstance, GetItemsType, APIResponseType} from './api'\n\nexport const usersAPI = {\n   getUsers(currentPage: number, pageSize: number, term: string = '', friend: null | boolean = null) {\n      return axiosInstance.get<GetItemsType>\n      (`users?page=${currentPage}&count=${pageSize}&term=${term}`+(friend === null ? '':`&friend=${friend}`))\n          .then(res => res.data)\n   },\n\n   follow(userId: number) {\n      return axiosInstance.post<APIResponseType>(`follow/${userId}`, {})\n          .then(res => res.data)\n   },\n\n   unfollow(userId: number) {\n      return axiosInstance.delete(`follow/${userId}`)\n          .then(res => res.data) as Promise<APIResponseType>\n   },\n}","import React from 'react'\nimport preloader from '../../assets/images/app/preloader.gif'\nimport s from './Preloader.module.scss'\n\nexport const Preloader: React.FC = () => {\n   return (\n       <div className={s.preloader}>\n          <img src={preloader} alt=\"preloader\"/>\n       </div>\n   )\n}\n\n","import {axiosInstance, APIResponseType} from './api'\nimport {ProfileType} from '../redux/profile-reducer'\nimport {PhotosType} from '../redux/users-reducer'\n\ntype SavePhotoResponseDataType = {\n   photos: PhotosType\n}\n\nexport const profileAPI = {\n   getProfile(userId: number) {\n      return axiosInstance.get<ProfileType>(`profile/${userId}`)\n          .then(res => res.data)\n   },\n\n   getUserStatus(userId: number) {\n      return axiosInstance.get<string>(`profile/status/${userId}`)\n          .then(res => res.data)\n   },\n\n   updateOwnProfileStatus(status: string) {\n      return axiosInstance.put<APIResponseType>(`profile/status`, {status})\n          .then(res => res.data)\n   },\n\n   savePhoto(photoFile: File) {\n      const formData = new FormData()\n      formData.append('image', photoFile)\n      return axiosInstance.put<APIResponseType<SavePhotoResponseDataType>>(`profile/photo`, formData, {\n         headers: {\n            'Content-Type': 'multipart/form-data'\n         }\n      }).then(res => res.data)\n   },\n\n   saveProfile(profile: ProfileType) {\n      return axiosInstance.put<APIResponseType<ProfileType>>(`profile/`, profile)\n          .then(res => res.data)\n   },\n}\n","import {ThunkDispatch} from 'redux-thunk'\nimport {profileAPI} from '../api/profile-api'\nimport {FormAction, stopSubmit} from 'redux-form'\nimport {ResultCodes} from '../api/api'\nimport {AppStateType, BaseThunkType, InferActionsTypes} from '../app/store';\n\nlet initialState = {\n   posts: [\n      {id: 1, message: 'Hello I am props.', likeCount: 21},\n      {id: 2, message: 'I am very handsome props', likeCount: 10},\n      {id: 3, message: 'I go out from my post pages', likeCount: 5},\n   ] as Array<PostType>,\n   profile: null as ProfileType | null,\n   status: ''\n}\n\nexport type ProfileInitialStateType = typeof initialState\ntype ActionsType = InferActionsTypes<typeof actions>\ntype ThunkType = BaseThunkType<ActionsType>\n\nexport const profileReducer = (state: ProfileInitialStateType = initialState,\n                               action: ActionsType): ProfileInitialStateType => {\n   switch (action.type) {\n      case 'SN/PROFILE/ADD-POST':\n         return {\n            ...state,\n            posts: [{id: 4, message: action.postNewMessageText, likeCount: 0}, ...state.posts],\n         }\n      case 'SN/PROFILE/SET-USER-PROFILE':\n         return {...state, profile: action.profile}\n      case 'SN/PROFILE/GET-USER-STATUS':\n         return {...state, status: action.userStatus}\n      case 'SN/PROFILE/UPDATE-PROFILE-STATUS':\n         return {...state, status: action.status}\n      case 'SN/PROFILE/SAVE-PHOTO-SUCCESS':\n         return {...state, profile: {...state.profile, photos: action.photos} as ProfileType}\n      default:\n         return state\n   }\n}\n\n//Action\nexport const actions = {\n   addPost:(postNewMessageText: string) =>\n       ({type: 'SN/PROFILE/ADD-POST', postNewMessageText} as const),\n   setUserProfileData:(profile: ProfileType) =>\n       ({type: 'SN/PROFILE/SET-USER-PROFILE', profile} as const),\n   getUserStatus:(userStatus: string) =>\n       ({type: 'SN/PROFILE/GET-USER-STATUS', userStatus} as const),\n   setOwnProfileStatus:(status: string) =>\n       ({type: 'SN/PROFILE/UPDATE-PROFILE-STATUS', status} as const),\n   savePhotoSuccess:(photos: PhotosType) => ({type: 'SN/PROFILE/SAVE-PHOTO-SUCCESS', photos} as const)\n}\n\n//Thunk\nexport const getUserProfileData = (userId: number): ThunkType =>\n    async (dispatch: ThunkDispatch<AppStateType, unknown, ActionsType>) => {\n       const data = await profileAPI.getProfile(userId)\n       dispatch(actions.setUserProfileData(data))\n    }\n\nexport const getStatusFromUser = (userId: number): ThunkType =>\n    async (dispatch: ThunkDispatch<AppStateType, unknown, ActionsType>) => {\n       const data = await profileAPI.getUserStatus(userId)\n       dispatch(actions.getUserStatus(data))\n    }\n\nexport const updateOwnProfileStatus = (status: string): ThunkType =>\n    async (dispatch: ThunkDispatch<AppStateType, unknown, ActionsType>) => {\n       const data = await profileAPI.updateOwnProfileStatus(status)\n       if (data.resultCode === ResultCodes.Success) {\n          dispatch(actions.setOwnProfileStatus(status))\n       }\n    }\n\nexport const savePhoto = (file: File): ThunkType =>\n    async (dispatch: ThunkDispatch<AppStateType, unknown, ActionsType>) => {\n       const data = await profileAPI.savePhoto(file)\n       if (data.resultCode === ResultCodes.Success) {\n          dispatch(actions.savePhotoSuccess(data.data.photos))\n       }\n    }\n\nexport const saveProfileData = (profile: ProfileType): ThunkType =>\n    async (dispatch: ThunkDispatch<AppStateType, unknown, ActionsType | FormAction>, getState) => {\n       const userId = getState().authState.id\n       const data = await profileAPI.saveProfile(profile)\n       if (data.resultCode === ResultCodes.Success) {\n          if(userId !== null) {\n             dispatch(getUserProfileData(userId))\n          } else {\n             throw new Error(`userId can't be null`)\n          }\n       } else {\n          //need changing error for different fields\n          // dispatch(stopSubmit('edit-profile', {'contacts': {'facebook': messages}}))\n          const messages = data.messages.length > 0 ? data.messages[0] : 'some error'\n          dispatch(stopSubmit('profile-data', {_error: messages}))\n          return Promise.reject(messages)\n       }\n    }\n\n//Type\n\nexport type PostType = {\n   id: number\n   message: string\n   likeCount: number\n}\nexport type ContactType = {\n   github: string\n   vk: string\n   facebook: string\n   instagram: string\n   twitter: string\n   website: string\n   youtube: string\n   mainLink: string\n}\n\nexport type PhotosType = {\n   small: string | null\n   large: string | null\n}\n\nexport type ProfileType = {\n   userId: number\n   lookingForAJob: boolean\n   lookingForAJobDescription: string\n   fullName: string\n   contacts: ContactType\n   aboutMe: string\n   photos: PhotosType\n}\n\n\n","import {ThunkAction, ThunkDispatch} from 'redux-thunk'\nimport {getAuthUserData} from './auth-reducer'\nimport {AppStateType, InferActionsTypes} from '../app/store';\n\nlet initializeState = {\n   initialized: false\n}\n\nexport type AppInitStateType = typeof initializeState\ntype ActionsType = InferActionsTypes<typeof actions>\n\nexport const appReducer = (state: AppInitStateType = initializeState, action: ActionsType): AppInitStateType => {\n   switch (action.type) {\n      case 'SN/APP/INITIALIZED_SUCCESS':\n         return {...state, initialized: true}\n      default:\n         return state\n   }\n}\n\n//Action\nexport const actions = {\n   initializedSuccess:() => ({\n      type: 'SN/APP/INITIALIZED_SUCCESS',\n   } as const)\n}\n\n//Thunk\nexport const initializeApp = (): ThunkType =>\n    (dispatch: ThunkDispatch<AppStateType, unknown, ActionsType>) => {\n       let promise = dispatch(getAuthUserData())\n       Promise.all([promise])\n           .then(() => {\n              dispatch(actions.initializedSuccess)\n           })\n    }\n\n//Type\ntype ThunkType = ThunkAction<void, AppStateType, unknown, ActionsType>\n\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__5NYuw\",\"container\":\"App_container__2gnMp\",\"content\":\"App_content__2hC3k\"};","import React from 'react'\nimport s from './Header.module.scss'\nimport {NavLink, useLocation} from 'react-router-dom'\n\nimport logoImg from '../../assets/images/logo.svg'\nimport undefinedUserImg from '../../assets/images/header/question-mark-128.png'\nimport exit from '../../assets/images/header/exit-100.png'\nimport {useSelector} from 'react-redux'\nimport {AppStateType} from '../../app/store';\n\ntype HeaderPropsType = {\n   isAuth: boolean\n   login: string | null\n   logout: () => void\n}\n\nexport const Header: React.FC<HeaderPropsType> = (props) => {\n\n   //get current url, rerender too much!!!\n   const HeaderView = () => {\n      return useLocation().pathname.substring(1)\n   }\n\n   const smallProfileImg = useSelector<AppStateType, string | null | undefined>(state => state.profileState.profile?.photos.small)\n\n   return (\n       <div className={s.topBar}>\n          <div className={s.logoWrapper}>\n             <a className={s.logoLink} href=\"#\">\n                <img className={s.logoImg} src={logoImg} alt=\"logo\"/>\n                <h4 className={s.logoName}>SOCIAL LOGO</h4>\n             </a>\n          </div>\n          <div className={s.topArea}>\n             <div className={s.pageNameWrapper}>\n                <span className={s.pageName}>\n                   {HeaderView()}\n                </span>\n             </div>\n             <div className={s.userImg}>\n                {\n                   props.isAuth\n                       ? <>\n                          <h5 className={s.isAuthState}>{props.login}</h5>\n                          <img src={smallProfileImg ? smallProfileImg : undefinedUserImg} alt=\"userPhoto\"/>\n                       </>\n                       : <NavLink to={'/login'} className={s.login}>LOGIN</NavLink>\n                }\n             </div>\n             <span className={s.exitIconWrapper}>\n                {\n                   props.isAuth\n                   && <a className={s.exit} href=\"#\" onClick={props.logout}>\n                      <img className={s.exitIcon} src={exit} alt=\"settings\"/>\n                   </a>\n                }\n             </span>\n          </div>\n       </div>\n   )\n}\n","import React from 'react'\nimport {Header} from './Header'\nimport {connect} from 'react-redux'\nimport {getAuthUserData, logout} from '../../redux/auth-reducer'\nimport {AppStateType} from '../../app/store';\n\ntype OwnPropsType = MapStateType & MapDispatchType\n\nclass HeaderContainer extends React.Component<OwnPropsType> {\n   render() {\n      return <Header login={this.props.login}\n                     isAuth={this.props.isAuth}\n                     logout={this.props.logout}\n      />\n   }\n}\n\ntype MapStateType = {\n   isAuth: boolean\n   login: string | null\n}\n\ntype MapDispatchType = {\n   getAuthUserData: () => void\n   logout: () => void\n}\n\nconst mapState = (state: AppStateType): MapStateType => ({\n   isAuth: state.authState.isAuth,\n   login: state.authState.login,\n})\n\nexport default connect<MapStateType, MapDispatchType, {}, AppStateType>(\n    mapState,\n    {getAuthUserData, logout}\n)(HeaderContainer)\n","import React from 'react'\n\nexport const Page404: React.FC = () => {\n\n\n   return (\n       <div>\n          <p>404 NOT FOUND</p>\n          this page is under construction\n       </div>\n   )\n}","import React from 'react'\nimport {NavLink} from 'react-router-dom'\nimport {useDispatch, useSelector} from 'react-redux'\nimport {savePhoto} from '../../redux/profile-reducer'\nimport undefinedUserImg from '../../assets/images/users/no-image-100.png'\nimport s from './Main.module.scss'\nimport {path} from '../../app/App';\nimport {AppStateType} from '../../app/store';\n\nexport const Main = () => {\n\n   const dispatch = useDispatch()\n\n   const mainPhotoSelect = (e: React.ChangeEvent<HTMLInputElement>) => {\n      if (e.target.files !== null && e.target.files.length) {\n         dispatch(savePhoto(e.target.files[0]))\n      }\n   }\n\n   const largeProfileImg = useSelector<AppStateType, string | null | undefined>(state => state.profileState.profile?.photos.large)\n\n   const userName = useSelector<AppStateType, string | null | undefined>(state => state.profileState.profile?.fullName)\n\n   //get id for editPhoto, show or hide input file\n   const profileId = useSelector<AppStateType, number | any>(state => state.profileState.profile?.userId)\n   const authId = useSelector<AppStateType, number | any>(state => state.authState.id)\n   //edit mode = isOwner\n   const isOwner = profileId === authId ? true : false //compare id from profile and auth\n\n   return (\n       <div className={s.mainBlockWrapper}>\n          <div className={s.gap}>\n             <div className={s.row}>\n                <div className={s.userProfile}>\n                   <div className={s.mainBg}>\n                      <div className={s.profileAuthor}>\n                         <div className={s.profileImgBlock}>\n                            <img className={s.mainAuthorImg} src={largeProfileImg ? largeProfileImg : undefinedUserImg}\n                                 alt=\"author\"/>\n                            {\n                               isOwner &&\n                               <div className={s.imageUpload}>\n                                  <label className={s.inputLabel}>\n                                     <input className={s.photoLoad} type=\"file\" onChange={mainPhotoSelect}/>\n                                  </label>\n                               </div>\n                            }\n                         </div>\n                      </div>\n                   </div>\n                   <div className={s.profileNavSection}>\n                      <div className={s.navTabs}>\n                         <div className={s.shortAuthorInfo}>\n                            <div className={s.userName}>{userName}</div>\n                            <div className={s.country}>Kyiv, Ukraine</div>\n                         </div>\n                         <ul className={s.navLinks}>\n                            <li className={s.active}>\n                               <NavLink to={path.PROFILE} activeClassName={s.active}>Profile</NavLink>\n                            </li>\n                            <li>\n                               <NavLink to={path.DIALOGS} activeClassName={s.active}>Dialogs</NavLink>\n                            </li>\n                            <li>\n                               <NavLink to={path.CHAT}  activeClassName={s.active}>Chat</NavLink>\n                            </li>\n                            <li>\n                               <NavLink to={path.DEVELOPERS}  activeClassName={s.active}>Developers</NavLink>\n                            </li>\n                         </ul>\n                      </div>\n                   </div>\n                </div>\n             </div>\n          </div>\n       </div>\n   )\n}\n","import React from 'react';\nimport {Preloader} from '../components/Preloader/Preloader'\n\nexport function withSuspense<WCP>(WrappedComponent: React.ComponentType<WCP>) {\n    return (props: any) => {\n        let {...restProps} = props\n        return (\n            <React.Suspense fallback={<Preloader/>}>\n                <WrappedComponent {...restProps as WCP}/>\n            </React.Suspense>\n        )\n    }\n}\n","import React, {ComponentType} from 'react'\nimport s from './App.module.scss'\nimport HeaderContainer from '../pages/Header/HeaderContainer'\nimport {Redirect, Route, Switch, withRouter} from 'react-router-dom'\nimport {Preloader} from '../components/Preloader/Preloader'\nimport {initializeApp} from '../redux/app-reducer'\nimport {Page404} from '../pages/404/Page404'\nimport {Main} from '../pages/Main/Main'\nimport {connect} from 'react-redux'\nimport {compose} from 'redux'\nimport {withSuspense} from '../hoc/withSuspenseH';\nimport {AppStateType} from './store';\n\ntype PropsType = MapStateType & MapDispatchToProps\n\nconst Login = React.lazy(\n    () => import('../pages/Login/LoginPage').then(({LoginPage}) => ({default: LoginPage})),\n);\nconst ProfileContainer = React.lazy(() => import('../pages/Profile/ProfileContainer'))\nconst DialogsContainer = React.lazy(() => import('../pages/Dialogs/DialogsContainer'))\nconst ChatPage = React.lazy(() => import('../pages/Chat/ChatPage'))\nconst UsersPage = React.lazy(\n    () => import('../pages/Users/UsersContainer').then(({UsersPage}) => ({default: UsersPage})),\n);\n\nexport const path = {\n    PROFILE: '/profile',\n    DIALOGS: '/dialogs',\n    CHAT: '/chat',\n    DEVELOPERS: '/developers',\n    LOGIN: '/login',\n}\n\nclass App extends React.Component<PropsType> {\n\n    catchAllUnhandledErrors = (e: PromiseRejectionEvent) => {\n        alert('Some error occurred')\n    }\n\n    componentDidMount() {\n        this.props.initializeApp()\n    }\n\n    render() {\n\n        if (this.props.initialized) {\n            return <Preloader/>\n        }\n\n        return (\n            <div className={s.app}>\n                <HeaderContainer/>\n                <div className={s.container}>\n                    <Main/>\n                    <div className={s.content}>\n                        <Switch>\n                            <Route exact path=\"/\" render={() => <Redirect to={path.PROFILE}/>}/>\n                            <Route path={path.PROFILE + ':userid?'} render={withSuspense(ProfileContainer)}/>\n                            <Route path={path.DIALOGS} render={withSuspense(DialogsContainer)}/>\n                            <Route path={path.CHAT}  render={withSuspense(ChatPage)}/>\n                            <Route path={path.DEVELOPERS} render={withSuspense(UsersPage)}/>\n                            <Route path={path.LOGIN} render={withSuspense(Login)}/>\n                            <Route render={withSuspense(Page404)}/>\n                        </Switch>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\ntype MapDispatchToProps = {\n    initializeApp: () => void\n}\n\ntype MapStateType = {\n    initialized: boolean\n}\n\nconst mapStateToProps = (state: AppStateType): MapStateType => ({\n    initialized: state.app.initialized\n})\n\nexport default compose<ComponentType>(\n    withRouter,\n    connect<MapStateType, MapDispatchToProps, {}, AppStateType>(mapStateToProps, {initializeApp}),\n)(App)\n","module.exports = \"data:image/png;base64,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\"","import {InferActionsTypes} from '../app/store';\n\nlet initializeState = {\n   dialogs: [\n      {id: 1, name: 'Stanislav Ivanov'},\n      {id: 2, name: 'Egor Ivanov'},\n      {id: 3, name: 'Sergey Ivanov'},\n   ] as Array<DialogType>,\n   messages: [\n      {id: 1, message: 'Detract yet delight written farther'},\n      {id: 2, message: 'An stairs as be lovers'},\n      {id: 3, message: 'Unpleasant in in insensible favourable'},\n   ] as Array<MessageType>,\n}\n\nexport type DialogInitStateType = typeof initializeState\ntype ActionsTypes = InferActionsTypes<typeof actions>\n\nexport const dialogsReducer = (state: DialogInitStateType = initializeState,\n                               action: ActionsTypes): DialogInitStateType => {\n   switch (action.type) {\n      case 'SN/DIALOGS/ADD-NEW-MESSAGE':\n         return {\n            ...state,\n            messages: [...state.messages, {id: 5, message: action.dialogNewMessageText}]\n         }\n      default:\n         return state\n   }\n}\n\n//Action\nexport const actions = {\n   addMessage: (dialogNewMessageText: string) =>\n       ({type: 'SN/DIALOGS/ADD-NEW-MESSAGE', dialogNewMessageText} as const)\n}\n\n//Types\n\nexport type DialogType = {\n   id: number\n   name: string\n}\nexport type MessageType = {\n   id: number\n   message: string\n}\n\n","import {call, put, takeEvery} from 'redux-saga/effects';\nimport {actions, FilterType} from '../users-reducer';\nimport {usersAPI} from '../../api/users-api';\nimport {GetItemsType} from '../../api/api';\n\nexport function* requestUsersWorkerSaga(action: ReturnType<typeof requestUsersAction>) {\n    yield put(actions.toggleIsFetching(true));\n    yield put(actions.setCurrentPage(action.requestPage));\n    yield put(actions.setFilter(action.filter));\n\n    const data:GetItemsType = yield call(usersAPI.getUsers, action.requestPage, action.pageSize, action.filter.term, action.filter.friend)\n\n    yield put(actions.setUsers(data.items));\n    yield put(actions.toggleIsFetching(false));\n    yield put(actions.setUsersTotalCount(data.totalCount));\n}\n\nexport const requestUsersAction = (requestPage: number, pageSize: number, filter: FilterType) => ({\n    type: 'USER/REQUEST-USERS',\n    requestPage,\n    pageSize,\n    filter\n} as const)\n\nexport function* usersWatcherSaga() {\n    yield takeEvery('USER/REQUEST-USERS', requestUsersWorkerSaga)\n}\n","import axios from 'axios'\nimport {UsersType} from '../redux/users-reducer'\n\nexport const axiosInstance = axios.create({\n   withCredentials: true,\n   baseURL: 'https://social-network.samuraijs.com/api/1.0/',\n   headers: {\n      'API-KEY': '988488bf-4d96-4e4c-8879-9dd6d2da04d6'\n   },\n})\n\nexport type APIResponseType<D = {}, RC = ResultCodes> = {\n   data: D\n   messages: string[]\n   resultCode: RC\n}\n\nexport enum ResultCodes {\n   Success = 0,\n   Error = 1,\n}\n\nexport enum ResultCodeCaptcha {\n   CaptchaIsRequired = 10\n}\n\nexport type GetItemsType = {\n   items: UsersType[]\n   totalCount: number\n   error: string | null\n}\n","const subscribers = {\n  'messages-received': [] as MessagesReceivedSubscriberType[],\n  'status-changed': [] as StatusChangedSubscriberType[],\n};\n\nlet ws: WebSocket | null;\ntype EventsNamesType = 'messages-received' | 'status-changed'\n\nconst closeHandler = () => {\n  notifySubscribersAboutStatus('pending');\n  setTimeout(createChannel, 3000);\n};\n\nconst messageHandler = (e: MessageEvent) => {\n  const newMessages = JSON.parse(e.data);\n  subscribers['messages-received'].forEach(s => s(newMessages));\n};\n\nconst openHandler = () => {\n  notifySubscribersAboutStatus('ready');\n};\n\nconst errorHandler = () => {\n  notifySubscribersAboutStatus('error');\n  console.error('REFRESH PAGE');\n};\n\nconst cleanUp = () => {\n  ws?.addEventListener('close', closeHandler);\n  ws?.addEventListener('message', messageHandler);\n  ws?.addEventListener('open', openHandler);\n  ws?.addEventListener('error', errorHandler);\n};\n\nconst notifySubscribersAboutStatus = (status: StatusType) => {\n  subscribers['status-changed'].forEach(s => s(status));\n};\n\nfunction createChannel() {\n  cleanUp();\n  ws?.close();\n  ws = new WebSocket('wss://social-network.samuraijs.com/handlers/ChatHandler.ashx');\n  notifySubscribersAboutStatus('pending');\n  ws?.addEventListener('close', closeHandler);\n  ws?.addEventListener('message', messageHandler);\n  ws?.addEventListener('open', openHandler);\n  ws?.addEventListener('error', errorHandler);\n}\n\nexport const chatAPI = {\n  start() {\n    createChannel();\n  },\n  stop() {\n    subscribers['messages-received'] = [];\n    subscribers['status-changed'] = [];\n    cleanUp();\n    ws?.close();\n  },\n  subscribe(eventName: EventsNamesType, callback: MessagesReceivedSubscriberType |\n    StatusChangedSubscriberType) {\n    // @ts-ignore\n    subscribers[eventName].push(callback);\n    return () => {\n      // @ts-ignore\n      subscribers[eventName] = subscribers[eventName].filter(s => s !== callback);\n    };\n  },\n  unsubscribe(eventName: EventsNamesType, callback: MessagesReceivedSubscriberType | StatusChangedSubscriberType) {\n    // @ts-ignore\n    subscribers[eventName] = subscribers[eventName].filter(s => s !== callback);\n  },\n  sendMessage(message: string) {\n    ws?.send(message);\n  }\n};\n\ntype MessagesReceivedSubscriberType = (messages: ChatMessageAPIType[]) => void\ntype StatusChangedSubscriberType = (status: StatusType) => void\n\nexport type ChatMessageAPIType = {\n  message: string\n  photo: string\n  userId: number\n  userName: string\n}\n\nexport type StatusType = 'pending' | 'ready' | 'error';\n","import { chatAPI, ChatMessageAPIType, StatusType } from '../api/chat-api';\nimport { Dispatch } from 'redux';\nimport { BaseThunkType, InferActionsTypes } from '../app/store';\nimport { v1 } from 'uuid';\n\nexport type ChatMessageType = ChatMessageAPIType & { id: string }\n\nlet initializeState = {\n  messages: [] as ChatMessageType[],\n  status: 'pending' as StatusType,\n};\n\nexport const chatReducer = (state: AuthInitStateType = initializeState, action: ActionsType): AuthInitStateType => {\n  switch (action.type) {\n    case 'SN/CHAT/MESSAGES_RECEIVED':\n      return {\n        ...state,\n        messages: [...state.messages, ...action.payload.messages\n          .map(m => ({ ...m, id: v1() }))]\n          .filter((m, idx, arr) => idx >= arr.length - 100)\n      };\n    case 'SN/CHAT/STATUS_CHANGED':\n      return {\n        ...state,\n        status: action.payload.status\n      };\n    default:\n      return state;\n  }\n};\n\n//Action\nexport const actions = {\n  messagesReceived: (messages: ChatMessageAPIType[]) => ({\n    type: 'SN/CHAT/MESSAGES_RECEIVED',\n    payload: { messages },\n  } as const),\n  statusChanged: (status: StatusType) => ({\n    type: 'SN/CHAT/STATUS_CHANGED',\n    payload: { status },\n  } as const)\n};\n\nlet _newMessageHandler: ((messages: ChatMessageAPIType[]) => void) | null = null;\nconst newMessageHandlerCreator = (dispatch: Dispatch) => {\n  if (_newMessageHandler === null) {\n    _newMessageHandler = (messages) => {\n      dispatch(actions.messagesReceived(messages));\n    };\n  }\n\n  return _newMessageHandler;\n};\n\nlet _statusChangedHandler: ((status: StatusType) => void) | null = null;\nconst statusChangedHandlerCreator = (dispatch: Dispatch) => {\n  if (_statusChangedHandler === null) {\n    _statusChangedHandler = (status) => {\n      dispatch(actions.statusChanged(status));\n    };\n  }\n\n  return _statusChangedHandler;\n};\n\n//Thunk\nexport const startMessagesListening = (): ThunkType => async (dispatch) => {\n  chatAPI.start();\n  chatAPI.subscribe('messages-received', newMessageHandlerCreator(dispatch));\n  chatAPI.subscribe('status-changed', statusChangedHandlerCreator(dispatch));\n};\n\nexport const stopMessagesListening = (): ThunkType =>\n  async (dispatch) => {\n    chatAPI.unsubscribe('messages-received', newMessageHandlerCreator(dispatch));\n    chatAPI.unsubscribe('status-changed', statusChangedHandlerCreator(dispatch));\n    chatAPI.stop();\n  };\n\nexport const sendMessage = (message: string): ThunkType =>\n  async (dispatch) => {\n    await chatAPI.sendMessage(message);\n  };\n\nexport type AuthInitStateType = typeof initializeState\ntype ActionsType = InferActionsTypes<typeof actions>\ntype ThunkType = BaseThunkType<ActionsType>\n\n","module.exports = __webpack_public_path__ + \"static/media/logo.56310f43.svg\";","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/preloader.5861c44d.gif\";"],"sourceRoot":""}