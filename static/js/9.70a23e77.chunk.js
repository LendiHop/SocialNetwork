(this.webpackJsonpsocial_network=this.webpackJsonpsocial_network||[]).push([[9],{249:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(69);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,c=void 0;try{for(var u,o=e[Symbol.iterator]();!(n=(u=o.next()).done)&&(a.push(u.value),!t||a.length!==t);n=!0);}catch(l){r=!0,c=l}finally{try{n||null==o.return||o.return()}finally{if(r)throw c}}return a}}(e,t)||Object(n.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},329:function(e,t,a){e.exports={chat_page:"ChatPage_chat_page__3eky8",messages_block:"ChatPage_messages_block__17epH",message:"ChatPage_message__ilQuC",topic_data:"ChatPage_topic_data__kdQO5",user_name:"ChatPage_user_name__3PmfG",topic_detail:"ChatPage_topic_detail__2H4IX"}},347:function(e,t,a){"use strict";a.r(t),a.d(t,"Chat",(function(){return i})),a.d(t,"Messages",(function(){return m})),a.d(t,"Message",(function(){return d})),a.d(t,"AddMessageForm",(function(){return f}));var n=a(249);var r=a(0),c=a.n(r),u=a(15),o=a(93),l=a(329),s=a.n(l),i=function(){var e=Object(u.c)(),t=Object(u.d)((function(e){return e.chat.status}));return Object(r.useEffect)((function(){return e(Object(o.c)()),function(){e(Object(o.d)())}}),[]),c.a.createElement("div",null,"error"===t&&c.a.createElement("div",null,"Some error occurred. Please refresh the page."),c.a.createElement(m,null),c.a.createElement(f,null))},m=function(e){!function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e);var t=Object(u.d)((function(e){return e.chat.messages})),a=Object(r.useRef)(null),o=Object(r.useState)(!1),l=Object(n.a)(o,2),i=l[0],m=l[1];return Object(r.useEffect)((function(){var e;i&&(null===(e=a.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[t]),c.a.createElement("div",{className:s.a.messages_block,onScroll:function(e){var t=e.currentTarget;Math.abs(t.scrollHeight-t.scrollTop-t.clientHeight)<300?!i&&m(!0):i&&m(!1)}},t.map((function(e,t){return c.a.createElement(d,{message:e,key:e.id})})),c.a.createElement("div",{ref:a}))},d=c.a.memo((function(e){var t=e.message;return c.a.createElement("div",{className:s.a.message},c.a.createElement("div",{className:s.a.topic_data},c.a.createElement("img",{src:t.photo}),c.a.createElement("span",{className:s.a.user_name},t.userName),c.a.createElement("em",null,"Developer")),c.a.createElement("div",{className:s.a.topic_detail},t.message))})),f=function(){var e=Object(u.c)(),t=Object(r.useState)(""),a=Object(n.a)(t,2),l=a[0],s=a[1],i=Object(u.d)((function(e){return e.chat.status}));return c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("textarea",{onChange:function(e){return s(e.currentTarget.value)},value:l})),c.a.createElement("div",null,c.a.createElement("button",{onClick:function(){l&&(e(Object(o.b)(l)),s(""))},disabled:"ready"!==i},"Send")))};t.default=function(){return c.a.createElement("div",{className:s.a.chat_page},c.a.createElement(i,null))}}}]);
//# sourceMappingURL=9.70a23e77.chunk.js.map